@import 'tailwindcss';
@plugin '@tailwindcss/typography';

@theme {
	/* Ocean color palette */
	--color-ocean-deep: oklch(25% 0.08 240);
	--color-ocean-dark: oklch(35% 0.1 235);
	--color-ocean-primary: oklch(45% 0.15 230);
	--color-ocean-medium: oklch(55% 0.12 225);
	--color-ocean-light: oklch(65% 0.1 220);
	--color-ocean-pale: oklch(85% 0.05 215);
	--color-ocean-surface: oklch(95% 0.02 210);

	/* Tailwind color scale */
	--color-ocean-950: var(--color-ocean-deep);
	--color-ocean-900: var(--color-ocean-dark);
	--color-ocean-800: var(--color-ocean-primary);
	--color-ocean-700: var(--color-ocean-medium);
	--color-ocean-600: oklch(60% 0.12 220);
	--color-ocean-500: var(--color-ocean-light);
	--color-ocean-400: oklch(70% 0.08 215);
	--color-ocean-300: oklch(75% 0.06 212);
	--color-ocean-200: var(--color-ocean-pale);
	--color-ocean-100: oklch(90% 0.03 210);
	--color-ocean-50: var(--color-ocean-surface);
}

/* Ocean gradient background */
html {
	/* Solid color for overscroll areas - matches bottom of gradient */
	background-color: oklch(82% 0.08 205);
}

body {
	background: linear-gradient(
		180deg,
		oklch(92% 0.04 215) 0%,
		oklch(88% 0.06 210) 50%,
		oklch(82% 0.08 205) 100%
	);
	background-attachment: fixed;
	min-height: 100vh;
	overflow-y: scroll;
}

/* Custom text selection color */
::selection {
	background: transparent;
}

::-moz-selection {
	background: transparent;
}

.glass-card ::selection {
	background: oklch(65% 0.1 220 / 0.4);
	color: oklch(25% 0.08 240);
}

.glass-card ::-moz-selection {
	background: oklch(65% 0.1 220 / 0.4);
	color: oklch(25% 0.08 240);
}

/* Ocean-themed prose styling */
.prose-ocean {
	--tw-prose-body: oklch(37.3% 0.034 259.733);
	--tw-prose-headings: oklch(25% 0.08 240);
	--tw-prose-links: oklch(55% 0.12 225);
	--tw-prose-bold: oklch(30% 0.08 235);
	--tw-prose-counters: oklch(55% 0.12 225);
	--tw-prose-bullets: oklch(65% 0.1 220);
	--tw-prose-hr: oklch(85% 0.05 215);
	--tw-prose-quotes: oklch(37.3% 0.034 259.733);
	--tw-prose-quote-borders: oklch(65% 0.1 220);
	--tw-prose-captions: oklch(55% 0.12 225);
	--tw-prose-code: oklch(35% 0.1 235);
	--tw-prose-pre-code: oklch(88% 0.06 210);
	--tw-prose-pre-bg: oklch(30% 0.08 235);
	--tw-prose-th-borders: oklch(75% 0.06 212);
	--tw-prose-td-borders: oklch(85% 0.05 215);
}

.prose-ocean :where(a):not(:where([class~="not-prose"], [class~="not-prose"] *)):hover {
	color: oklch(60% 0.12 220);
}

/* Scale down SVG math to match text size better */
.prose-ocean mjx-container {
	font-size: 0.85em;
}

/* Allow horizontal scroll for overflowing math equations on mobile */
.prose-ocean mjx-container[display="true"] {
	overflow-x: auto;
	max-width: 100%;
}

/* Ensure inline math stays inline with SVG output */
.prose-ocean mjx-container:not([display="true"]) {
	display: inline;
}

.prose-ocean mjx-container:not([display="true"]) svg {
	display: inline;
	vertical-align: middle;
}

/* Inline code styling */
.prose-ocean :where(code):not(:where([class~="not-prose"], [class~="not-prose"] *)):not(:where(pre *)) {
	background-color: oklch(90% 0.03 210) !important;
	padding: 0.2em 0.4em !important;
	border-radius: 0.25rem !important;
	font-weight: 500 !important;
	color: oklch(35% 0.1 235) !important;
}

/* Remove backticks added by typography plugin */
.prose-ocean :where(code):not(:where(pre *))::before,
.prose-ocean :where(code):not(:where(pre *))::after {
	content: '' !important;
}

/* Ensure inline code span elements inherit styles */
.prose-ocean :where(code):not(:where(pre *)) span {
	background-color: transparent !important;
	color: inherit !important;
}

/* Code block pre styling */
.prose-ocean :where(pre):not(:where([class~="not-prose"], [class~="not-prose"] *)) {
	background: linear-gradient(135deg, oklch(28% 0.08 238) 0%, oklch(32% 0.08 232) 100%) !important;
	border: 1px solid oklch(40% 0.1 230);
	box-shadow: 0 4px 6px -1px oklch(25% 0.08 240 / 0.3);
	padding: 1rem;
	border-radius: 0.5rem;
	overflow-x: auto;
}

/* Code inside pre blocks */
.prose-ocean :where(pre code):not(:where([class~="not-prose"], [class~="not-prose"] *)) {
	background-color: transparent !important;
	padding: 0 !important;
	border-radius: 0 !important;
	font-weight: normal !important;
	color: inherit !important;
}

/* Glass morphism cards */
.glass-card {
	background: rgba(255, 255, 255, 0.6);
	backdrop-filter: blur(12px);
	-webkit-backdrop-filter: blur(12px);
	border: 1px solid rgba(255, 255, 255, 0.8);
	border-radius: 1rem;
	box-shadow: 0 8px 32px rgba(0, 0, 0, 0.08);
	overflow: hidden;
}
